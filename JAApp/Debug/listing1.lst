Microsoft (R) Macro Assembler Version 6.14.8444		    04/03/19 13:38:42
C:\Users\barto\Documents\Visual Studio 2010\Projects\JAApp\JADII\mojadll.asm  Page 1 - 1


				     ;-------------------------------------------------------------------------
				     .386 
				     .MODEL FLAT, STDCALL

				     OPTION CASEMAP:NONE

				     .NOLIST
				     .LIST

 00000000			     .data 
 00000000 41 47 49 4B 53 5A 4A	     DataString DB 'AGIKSZJ', 0FFH	; definicja ciagu znakow  
	        FF

 00000000			     .code 

 00000000			     DllEntry PROC hInstDLL:HINSTANCE, reason:DWORD, reserved1:DWORD

 00000003   2   B8 00000001	         MOV EAX, TRUE 
				         RET

 0000000C			     DllEntry ENDP

				     ;**************************************************************************** 
				     ;* Procedura FindChar_1 wyszukiwania znaku 'J' w ciagu 'DataString' * 
				     ;* * 
				     ;* Bezposrednia adresacja indeksowa * 
				     ;* Parametry wejsciowe: * 
				     ;*	AH - szukany znak 'J' * 
				     ;* Parametry wyjsciowe: * 
				     ;*	EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 0000000C			     FindChar_1 PROC 
 0000000C   2   BE 00000000 R	         MOV ESI, OFFSET DataString	; zaladuj offset zmiennej 'DataString' do rej. ESI 
 00000011   2   B4 4A		         MOV AH, 'J'					; zaladuj kod litery 'J' do rej. AH 
 00000013			     Check_End: 
 00000013   5   80 3E FF	         CMP BYTE PTR [ESI], 0FFH	; czy koniec lancucha (znak specjalny FF)? 
 00000016 7m,3  74 0D		         JE Not_Find					; znaleziono znak konca (wartownik) 
 00000018   6   3A 26		         CMP AH, [ESI]			; porownaj znak z elementem lancucha 'DataString' 
 0000001A 7m,3  74 05		         JE Got_Equal				; znaleziono znak! 
 0000001C   2   83 C6 01	         ADD ESI, 1					; inkrementuj offset
 0000001F   7m  EB F2		         JMP Check_End				; petla wyszukiwania 
 00000021			     Got_Equal: 
 00000021   4   8A 16		         MOV DL, [ESI]				; zaladuj znaleziony znak do DL 
 00000023   7m  EB 06		         JMP Done 
 00000025			     Not_Find: 
 00000025   2   B8 00000000	         MOV EAX,0					; nie znaleziono znaku 
 0000002A  10m  C3		         RET							; powrot z procedury 
 0000002B			     Done: 
 0000002B   2   B8 00000001	         MOV EAX,1					; znaleziono znak 
 00000030  10m  C3		         RET							; powrot z procedury 
 00000031			     FindChar_1 ENDP					; koniec FindChar_1 

				     ;**************************************************************************** 
				     ;* Procedura FindChar_2 wyszukiwania znaku 'J' w ciagu 'LocalString' * 
				     ;* * 
				     ;* Bezposrednia adresacja indeksowa * 
				     ;* Parametry wejsciowe: * 
				     ;*	AH - szukany znak 'J' * 
				     ;* Parametry wyjsciowe: * 
				     ;*	EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 00000031 C3 47 49 4B 53 5A 4A	     LocalString DB 0C3H,'GIKSZJ', 0FFH ; definicja ciagu znakow 
	        FF
 00000039			     FindChar_2 PROC 
 00000039   2   BE 00000031 R	         MOV ESI, OFFSET LocalString ; zaladuj offset zmiennej 'LocalString' do rej. ESI 
 0000003E   2   B4 4A		         MOV AH, 'J'					; zaladuj kod litery 'J' do rej. AH 
 00000040			     Check_End: 
 00000040   5   80 3E FF	         CMP BYTE PTR [ESI], 0FFH	; czy koniec lancucha (znak specjalny FF)? 
 00000043 7m,3  74 0D		         JE Not_Find				; znaleziono znak konca (wartownik) 
 00000045   6   3A 26		         CMP AH, [ESI]			; porownaj znak z elementem lancucha 'LocalString' 
 00000047 7m,3  74 05		         JE Got_Equal				; znaleziono znak! 
 00000049   2   83 C6 01	         ADD ESI, 1					; inkrementuj offset 
 0000004C   7m  EB F2		         JMP Check_End				; petla wyszukiwania 
 0000004E			     Got_Equal: 
 0000004E   4   8A 16		         MOV DL, [ESI]				; zaladuj znaleziony znak do DL 
 00000050   7m  EB 06		         JMP Done 
 00000052			     Not_Find: 
 00000052   2   B8 00000000	         MOV EAX,0					; nie znaleziono znaku 
 00000057  10m  C3		         RET							; powrot z procedury 
 00000058			     Done: 
 00000058   2   B8 00000001	         MOV EAX,1					; znaleziono znak 
 0000005D  10m  C3		         RET							; powrot z procedury 
 0000005E			     FindChar_2 ENDP					; koniec FindChar_2 
				     ;**************************************************************************** 
				     ;* Procedura FindChar_3 wyszukiwania znaku 'J' w ciagu 'AppString' * 
				     ;* * 
				     ;* Bezposrednia adresacja indeksowa * 
				     ;* Parametry wejsciowe: * 
				     ;* AH - szukany znak 'J' * 
				     ;* Rej: ESI - offset adresu zmiennej 'AppString' * 
				     ;* Parametry wyjsciowe: * 
				     ;* EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 0000005E			     FindChar_3 PROC AppString: DWORD 
 00000061   4   8B 75 08	         MOV ESI, AppString		; zaladuj offset zmiennej 'AppString' do rej. ESI 
 00000064   2   B4 4A		         MOV AH, 'J'					; zaladuj kod litery 'J' do rej. AH 
 00000066			     Check_End: 
 00000066   5   80 3E FF	         CMP BYTE PTR [ESI], 0FFH	; czy koniec lancucha (znak specjalny FF)? 
 00000069 7m,3  74 0D		         JE Not_Find					; znaleziono znak konca (wartownik) 
 0000006B   6   3A 26		         CMP AH, [ESI]			; porownaj znak z elementem lancucha 'AppString' 
 0000006D 7m,3  74 05		         JE Got_Equal				; znaleziono znak! 
 0000006F   2   83 C6 01	         ADD ESI, 1					; inkrementuj offset 
 00000072   7m  EB F2		         JMP Check_End				; petla wyszukiwania 
 00000074			     Got_Equal: 
 00000074   4   8A 16		         MOV DL, [ESI]				; zaladuj znaleziony znak do DL 
 00000076   7m  EB 09		         JMP Done 
 00000078			     Not_Find: 
 00000078   2   B8 00000000	         MOV EAX,0					; nie znaleziono znaku 
				         RET							; powrot z procedury 
 00000081			     Done: 
 00000081   2   B8 00000001	         MOV EAX,1
				     	RET					; znaleziono znak 
 0000008A			     FindChar_3 ENDP					; koniec FindChar_3 
				     ;**************************************************************************** 
				     ;* Procedura FindChar_4 wyszukiwania znaku 'J' w ciagu 'DataString' * 
				     ;* * 
				     ;* Bezposrednia adresacja indeksowa * 
				     ;* Parametry wejsciowe: * 
				     ;* Rej: ESI - indeks zmiennej 'DataString' * 
				     ;* AH - szukany znak 'J' * 
				     ;* Parametry wyjsciowe: * 
				     ;* EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 0000008A			     FindChar_4 PROC NEAR			; deklaracja procedury FindChar_4 
 0000008A   2   BE 00000000	         MOV ESI, 0				; zaladuj indeks lancucha 'DataString' do ESI 
 0000008F   2   B4 4A		         MOV AH, 'J'					; zaladuj kod litery 'J' do rej. AH 
 00000091			     Check_End: 
 00000091   5   80 BE 00000000 R         CMP DataString[ESI], 0FFH	; czy koniec lancucha (znak specjalny FF)? 
	        FF
 00000098 7m,3  74 16		         JE Not_Find					; znaleziono znak konca (wartownik) 
 0000009A   6   3A A6 00000000 R         CMP AH, BYTE PTR DataString[ESI] ; porownaj znak z elementem lancucha 'DataString' 
 000000A0 7m,3  74 06		         JE Got_Equal				; znaleziono znak! 
 000000A2   2   66| 83 C6 01	         ADD SI, 1					; inkrementuj indeks 
 000000A6   7m  EB E9		         JMP Check_End				; petla wyszukiwania 
 000000A8			     Got_Equal: 
 000000A8   4   8A 96 00000000 R         MOV DL, DataString[ESI]		; zaladuj znaleziony znak do DL 
 000000AE   7m  EB 06		         JMP Done 
 000000B0			     Not_Find: 
 000000B0   2   B8 00000000	         MOV EAX,0					; nie znaleziono znaku 
 000000B5  10m  C3		         RET							; powrot z procedury 
 000000B6			     Done: 
 000000B6   2   B8 00000001	         MOV EAX,1					; znaleziono znak 
 000000BB  10m  C3		         RET							; powrot z procedury 
 000000BC			     FindChar_4 ENDP					; koniec FindChar_4 
				     ;**************************************************************************** 
				     ;* Procedura FindChar_5 wyszukiwania znaku 'J' w ciagu 'DataString' * 
				     ;* * 
				     ;* Adresacja Base + Index * 
				     ;* Parametry wejsciowe: * 
				     ;* Rej: BX - offset zmiennej 'DataString' * 
				     ;* Parametry wyjsciowe: * 
				     ;* EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 000000BC			     FindChar_5 PROC NEAR 
 000000BC   2   BB 00000000 R	         MOV EBX, OFFSET DataString	; zaladuj offset zmiennej 'DataString' do rej. EBX 
 000000C1   5   80 3B 4A	         CMP BYTE PTR [EBX+0], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000C4 7m,3  74 2A		         JE Got_It					; znaleziono znak 
 000000C6   5   80 7B 01 4A	         CMP BYTE PTR [EBX+1], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000CA 7m,3  74 24		         JE Got_It					; znaleziono znak 
 000000CC   5   80 7B 02 4A	         CMP BYTE PTR [EBX+2], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000D0 7m,3  74 1E		         JE Got_It					; znaleziono znak 
 000000D2   5   80 7B 03 4A	         CMP BYTE PTR [EBX+3], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000D6 7m,3  74 18		         JE Got_It					; znaleziono znak 
 000000D8   5   80 7B 04 4A	         CMP BYTE PTR [EBX+4], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000DC 7m,3  74 12		         JE Got_It					; znaleziono znak 
 000000DE   5   80 7B 05 4A	         CMP BYTE PTR [EBX+5], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000E2 7m,3  74 0C		     	JE Got_It					; znaleziono znak 
 000000E4   5   80 7B 06 4A	     	CMP BYTE PTR [EBX+6], 'J'	; porownaj znak z elementem lancucha 'DataString' 
 000000E8 7m,3  74 06		     	JE Got_It
 000000EA			     Not_Find: 
 000000EA   2   B8 00000000	         MOV EAX,0					; zaladuj znak zapytania do DL 
 000000EF  10m  C3		         RET							; powrot z procedury 
 000000F0			     Got_It: 
 000000F0   2   B8 00000001	         MOV EAX,1					; wyswietl znak ne ekranie 
 000000F5  10m  C3		         RET							; powrot z procedury 
 000000F6			     FindChar_5 ENDP					; koniec FindChar_5 
				     ;**************************************************************************** 
				     ;* Procedura FindChar_6 wyszukiwania znaku 'J' w ciagu 'DataString' * 
				     ;* * 
				     ;* adresacja Disp [EBX+ESI] * 
				     ;* Parametry wejsciowe: * 
				     ;* Rej: EBX - offset zmiennej 'DataString' * 
				     ;* ESI - przemieszczenie * 
				     ;* AH - szukany znak 'J' * 
				     ;* Parametry wyjsciowe: * 
				     ;* EAX - BOOL TRUE Found, FALSE not found * 
				     ;* * 
				     ;**************************************************************************** 
 000000F6			     FindChar_6 PROC NEAR 
 000000F6   2   BB 00000000 R	         MOV EBX, OFFSET DataString	; zaladuj offset zmiennej 'String' do rej. ESI 
 000000FB   2   33 F6		         XOR ESI, ESI				; wyzeruj indeks lancucha 'String' w ESI 
 000000FD   2   B4 4A		         MOV AH, 'J'					; zaladuj kod litery 'J' do rej. AH 
 000000FF			     Check_End: 
 000000FF   5   80 3C 1E FF	         CMP BYTE PTR [EBX+ESI], 0FFH; czy koniec lancucha (znak specjalny FF)? 
 00000103 7m,3  74 0D		         JE Not_Find					; znaleziono znak konca (wartownik) 
 00000105   6   3A 24 1E	         CMP AH, BYTE PTR [EBX+ESI]	; porownaj znak z elementem lancucha 'String' 
 00000108 7m,3  74 03		         JE Got_Equal					; znaleziono znak! 
 0000010A   2   46		         INC ESI						; inkrementuj indeks 
 0000010B   7m  EB F2		         JMP Check_End				; petla wyszukiwania 
 0000010D			     Got_Equal: 
 0000010D   4   8A 14 1E	         MOV DL, [EBX+ESI]			; zaladuj znaleziony znak do DL 
 00000110   7m  EB 06		         JMP Done 
 00000112			     Not_Find: 
 00000112   2   B8 00000000	         MOV EAX,0					; nie znaleziono znaku 
 00000117  10m  C3		         RET 
 00000118			     Done: 
 00000118   2   B8 00000001	         MOV EAX,1					; znaleziono znak 
 0000011D  10m  C3		         RET							; powrot z procedury 
 0000011E			     FindChar_6 ENDP					; koniec FindChar_6 
				     ;****************************************************************************
				     ;* Procedura ReadTime_1 pomiaru czasu wykonania procedury FindChar_1 * 
				     ;* * 
				     ;* do pomiaru wykorzystywany jest licznik taktów zegara procesora * 
				     ;* Parametry wejsciowe: * 
				     ;* Parametry wyjsciowe: * 
				     ;* EAX - czas w taktach zegara * 
				     ;* * 
				     ;**************************************************************************** 
				     .586
 0000011E			     ReadTime_1 PROC fnptr: DWORD			;PROC a1: DWORD, a2: DWORD, a3: DWORD, a4:DWORD, a5:DWORD 
 00000121  14   0F A2		         CPUID						; celowo brak komentarza

 00000123   6   0F 31		         RDTSC						; odczyt licznika taktów
 00000125   1   8B C8		         MOV ECX,EAX
				     	
 00000127   2   FF 55 08	         CALL fnptr				; wywo³anie badanej funkcji

 0000012A   6   0F 31		         RDTSC
 0000012C   1   2B C1		         SUB EAX,ECX


				         RET
 00000132			     ReadTime_1 ENDP 
				     ;**************************************************************************** 
				     END DllEntry 
Microsoft (R) Macro Assembler Version 6.14.8444		    04/03/19 13:38:42
C:\Users\barto\Documents\Visual Studio 2010\Projects\JAApp\JADII\mojadll.asm  Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . . . . .	32 Bit	 00000008 DWord	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . . . . .	32 Bit	 00000132 DWord	  Public  'CODE'	


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

DllEntry . . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000000C Public STDCALL
FindChar_1 . . . . . . . . . . . . . .	P Near	 0000000C _TEXT	Length= 00000025 Public STDCALL
FindChar_2 . . . . . . . . . . . . . .	P Near	 00000039 _TEXT	Length= 00000025 Public STDCALL
FindChar_3 . . . . . . . . . . . . . .	P Near	 0000005E _TEXT	Length= 0000002C Public STDCALL
FindChar_4 . . . . . . . . . . . . . .	P Near	 0000008A _TEXT	Length= 00000032 Public STDCALL
FindChar_5 . . . . . . . . . . . . . .	P Near	 000000BC _TEXT	Length= 0000003A Public STDCALL
FindChar_6 . . . . . . . . . . . . . .	P Near	 000000F6 _TEXT	Length= 00000028 Public STDCALL
ReadTime_1 . . . . . . . . . . . . . .	P Near	 0000011E _TEXT	Length= 00000014 Public STDCALL


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . . . . .	Text   	 FLAT

	   0 Warnings
	   0 Errors
